<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="https://Dobbymin.github.io/_next/static/media/3703c28dcda155b1-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="https://Dobbymin.github.io/_next/static/media/4cf2300e9c8272f7-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="https://Dobbymin.github.io/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="https://Dobbymin.github.io/_next/static/media/dbd4bef41e4e627e-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="https://Dobbymin.github.io/_next/static/media/ff840cfebfb63b0c-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="https://Dobbymin.github.io/_next/static/css/9d57e8ce5aa93759.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="https://Dobbymin.github.io/_next/static/chunks/webpack-4b24c5cd000e9592.js"/><script src="https://Dobbymin.github.io/_next/static/chunks/96e220d1-c293b79da622100b.js" async=""></script><script src="https://Dobbymin.github.io/_next/static/chunks/770-ee777575a37210f3.js" async=""></script><script src="https://Dobbymin.github.io/_next/static/chunks/main-app-bd4810732eead7c1.js" async=""></script><script src="https://Dobbymin.github.io/_next/static/chunks/272-3a16f3f06ee953eb.js" async=""></script><script src="https://Dobbymin.github.io/_next/static/chunks/83-22b92d4537e44d01.js" async=""></script><script src="https://Dobbymin.github.io/_next/static/chunks/app/post/%5Bid%5D/page-a1fd5b3e284f200e.js" async=""></script><meta name="next-size-adjust" content=""/><title>Dobby is Free</title><meta name="description" content="김도비의 개발 블로그 - 프론트엔드 개발, 웹 기술, 그리고 일상의 기록"/><link rel="author" href="https://github.com/Dobbymin"/><meta name="author" content="김도비"/><meta name="keywords" content="개발 블로그,프론트엔드,Next.js,React,TypeScript,김도비,Dobby"/><meta name="creator" content="김도비"/><meta name="publisher" content="김도비"/><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"/><meta property="og:title" content="Dobby is Free"/><meta property="og:description" content="김도비의 개발 블로그 - 프론트엔드 개발, 웹 기술, 그리고 일상의 기록"/><meta property="og:url" content="https://dobbymin.github.io"/><meta property="og:site_name" content="Dobby is Free"/><meta property="og:locale" content="ko_KR"/><meta property="og:image" content="https://dobbymin.github.io/logo.png"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image:alt" content="Dobby is Free Logo"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Dobby is Free"/><meta name="twitter:description" content="김도비의 개발 블로그 - 프론트엔드 개발, 웹 기술, 그리고 일상의 기록"/><meta name="twitter:image" content="https://dobbymin.github.io/logo.png"/><link rel="shortcut icon" href="/logo.png"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="256x256"/><link rel="icon" href="/logo.png"/><link rel="apple-touch-icon" href="/logo.png"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="https://Dobbymin.github.io/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_275e91 __variable_63407e __variable_670af1 __variable_6dcb0b __variable_40c4eb antialiased"><div class="w-full bg-blog-gray-100"><header class="fixed top-0 right-0 left-0 z-100 flex items-center justify-center bg-blog-gray-500 transition-colors"><div class="relative flex h-header w-full max-w-7xl items-center justify-between px-4 md:px-8"><a href="/"><div class="flex items-center gap-4"><img alt="Dobblog Logo" loading="lazy" width="40" height="40" decoding="async" data-nimg="1" class="rounded-full" style="color:transparent" src="/logo.png"/><p class="hidden font-lemon text-xl md:block md:text-3xl">Dobblog</p></div></a><div class="absolute top-1/2 left-1/2 hidden w-[400px] max-w-[60vw] -translate-x-1/2 -translate-y-1/2 items-center justify-center gap-3 rounded-sm bg-blog-gray-100 md:flex"><input class="flex h-9 w-full min-w-0 rounded-md border border-input px-3 py-1 transition-[color,box-shadow] selection:bg-primary selection:text-primary-foreground file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:bg-input/30 focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 border-none bg-transparent text-sm text-blog-gray-500 shadow-none outline-none placeholder:text-blog-gray-400 focus:border-none focus:ring-0 focus:outline-none" data-slot="input" type="text"/><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search mr-3 text-blog-gray-500" aria-hidden="true"><path d="m21 21-4.34-4.34"></path><circle cx="11" cy="11" r="8"></circle></svg></div><div class="flex items-center justify-between gap-3 md:gap-5"><a href="/about"><p class="font-lemon text-base md:text-xl">About</p></a><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun cursor-pointer text-blog-pink" aria-hidden="true"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg></div></div></header><main class="pt-16"><div class="flex min-h-[calc(100vh-4rem)] flex-col"><div class="mb-16 flex-grow"><div class="flex w-full items-center justify-center"><div class="flex w-full max-w-4xl flex-col gap-4"><header class="w-full bg-white p-6 md:p-8"><div class="flex flex-col gap-4"><div class="text-sm font-bold text-blog-green">Project</div><h1 class="text-2xl font-bold text-blog-black md:text-4xl">Next.js로 만드는 BFF with Upbit</h1><p class="text-sm text-blog-gray-600 md:text-base">Next.js로 BFF(Backend For Frontend) 패턴을 적용하여 Upbit API를 효율적으로 사용하는 방법을 알아보자!</p><div class="flex items-center gap-2 pt-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar-days size-5 text-blog-gray-600" aria-hidden="true"><path d="M8 2v4"></path><path d="M16 2v4"></path><rect width="18" height="18" x="3" y="4" rx="2"></rect><path d="M3 10h18"></path><path d="M8 14h.01"></path><path d="M12 14h.01"></path><path d="M16 14h.01"></path><path d="M8 18h.01"></path><path d="M12 18h.01"></path><path d="M16 18h.01"></path></svg><time class="text-sm font-medium text-blog-gray-600">2025-11-11</time></div></div></header><article class="w-full bg-white p-4 md:p-8"><div class="prose prose-lg w-full max-w-none"><p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">최근에 Next.js를 사용해서 &quot;모의 비트코인 매매&quot; 프로젝트를 진행하게되었다. 별도의 서버를 구축하지 않고, Upbit에서 제공하는 Open API를 활용해서 만들어볼려고 한다.</p>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">우선, 내가 혼자서 Next.js 만으로 이 프로젝트를 진행하는 이유는 다음과 같다.</p>
<blockquote class="my-4 border-l-4 border-blog-green bg-blog-gray-100 py-5 pr-6 pl-4 text-sm text-blog-black md:text-base [&amp;&gt;:last-child]:mb-0">
<ol class="mb-4 list-inside list-decimal space-y-2 text-sm text-blog-black md:text-base">
<li class="ml-4">별도의 Express 서버를 구축하는 방법도 있지만, 아직 서버에 대한 지식이 많이 부족해서 성능이 최적회된 Express 기반의 서버를 구축하기 힘들었다.</li>
<li class="ml-4">이전에는 바이브 코딩으로 서버를 구축하고, Vercel 로 배포했었으나 조금 번거롭기도 했고, Next.js의 API 라우트를 활용해서 간단한 서버 기능을 대체할 수 있을 것 같았다.</li>
<li class="ml-4">최근에 Vite + Supabase 조합의 강의를 들으면서, Supabase 만으로도 간단하게 데이터를 저장하고, 인증기능을 구현할 수 있다는 점을 알게되었다.</li>
</ol>
</blockquote>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">따라서 이번 프로젝트에서는 Next.js와 Supabase 그리고 Upbit 에서 제공하는 Open API 만 활용해서 프로젝트를 진행하고 있다.</p>
<h1 class="mb-6 border-b-2 border-blog-gray-400 pt-4 pb-3 text-2xl font-bold text-blog-black md:text-4xl">API 문서 살펴보기</h1>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">우선 어느정도의 UI를 만들고, 코인 정보를 가져오기 위해 Upbit Open API 문서를 살펴보았다.</p>
<blockquote class="my-4 border-l-4 border-blog-green bg-blog-gray-100 py-5 pr-6 pl-4 text-sm text-blog-black md:text-base [&amp;&gt;:last-child]:mb-0">
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">업비트 Open API 문서 : <a class="hover:text-blog-purple text-sm text-blog-blue underline underline-offset-2 transition-all hover:underline-offset-4 md:text-base" href="https://docs.upbit.com/kr" rel="noopener noreferrer" target="_blank">Upbit Developer Center</a></p>
</blockquote>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">여기서 모든 코인 정보를 가져오고 싶었고, Upbit Open API 문서에서 다음과 같은 엔드포인트를 발견할 수 있었다.</p>
<blockquote class="my-4 border-l-4 border-blog-green bg-blog-gray-100 py-5 pr-6 pl-4 text-sm text-blog-black md:text-base [&amp;&gt;:last-child]:mb-0">
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">페어 목록 조회 <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">GET</code> <a class="hover:text-blog-purple text-sm text-blog-blue underline underline-offset-2 transition-all hover:underline-offset-4 md:text-base" href="https://api.upbit.com/v1/market/all" rel="noopener noreferrer" target="_blank">https://api.upbit.com/v1/market/all</a></p>
</blockquote>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">이 API를 호출하면 다음과 같은 응답을 받을 수 있다.</p>
<pre class="mb-4 overflow-x-auto rounded-lg bg-[#2d2d2d] p-4 text-sm shadow-md"><code class="language-json code-highlight"><span class="code-line"><span class="token punctuation">[</span>
</span><span class="code-line">  <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">&quot;market&quot;</span><span class="token operator">:</span> <span class="token string">&quot;KRW-BTC&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;korean_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;비트코인&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;english_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Bitcoin&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;market_event&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">&quot;warning&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;caution&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token property">&quot;PRICE_FLUCTUATIONS&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property">&quot;TRADING_VOLUME_SOARING&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property">&quot;DEPOSIT_AMOUNT_SOARING&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property">&quot;GLOBAL_PRICE_DIFFERENCES&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property">&quot;CONCENTRATION_OF_SMALL_ACCOUNTS&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">&quot;market&quot;</span><span class="token operator">:</span> <span class="token string">&quot;KRW-ETH&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;korean_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;이더리움&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;english_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Ethereum&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;market_event&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">&quot;warning&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;caution&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token property">&quot;PRICE_FLUCTUATIONS&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property">&quot;TRADING_VOLUME_SOARING&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property">&quot;DEPOSIT_AMOUNT_SOARING&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property">&quot;GLOBAL_PRICE_DIFFERENCES&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property">&quot;CONCENTRATION_OF_SMALL_ACCOUNTS&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">]</span>
</span></code></pre>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">일단 이 API 에서 필요한 데이터는 <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">market</code>, <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">korean_name</code>, <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">english_name</code> 이 세가지 데이터이다. 나머지는 필요하지 않았다.</p>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">그 다음으로는 특정 코인의 현재가 정보를 가져오는 API를 살펴보았다.</p>
<blockquote class="my-4 border-l-4 border-blog-green bg-blog-gray-100 py-5 pr-6 pl-4 text-sm text-blog-black md:text-base [&amp;&gt;:last-child]:mb-0">
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">페어 단위 현재가 조회 <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">GET</code> <a class="hover:text-blog-purple text-sm text-blog-blue underline underline-offset-2 transition-all hover:underline-offset-4 md:text-base" href="https://api.upbit.com/v1/ticker" rel="noopener noreferrer" target="_blank">https://api.upbit.com/v1/ticker</a></p>
</blockquote>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">Query Parameter로 <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">markets</code> 라는 키값에 조회하고자하는 페어 목록을 콤마(,)로 구분하여 전달하면 된다. 예를 들어, <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">KRW-BTC,KRW-ETH</code> 와 같이 전달하면 된다.</p>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">이 API를 호출하면 다음과 같은 응답을 받을 수 있다.</p>
<pre class="mb-4 overflow-x-auto rounded-lg bg-[#2d2d2d] p-4 text-sm shadow-md"><code class="language-json code-highlight"><span class="code-line"><span class="token punctuation">[</span>
</span><span class="code-line">  <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">&quot;market&quot;</span><span class="token operator">:</span> <span class="token string">&quot;KRW-BTC&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;trade_date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20231111&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;trade_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;153045&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;trade_timestamp&quot;</span><span class="token operator">:</span> <span class="token number">1700179845000</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;opening_price&quot;</span><span class="token operator">:</span> <span class="token number">50000000</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;high_price&quot;</span><span class="token operator">:</span> <span class="token number">51000000</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;low_price&quot;</span><span class="token operator">:</span> <span class="token number">49000000</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;trade_price&quot;</span><span class="token operator">:</span> <span class="token number">50500000</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;prev_closing_price&quot;</span><span class="token operator">:</span> <span class="token number">49900000</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;change&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RISE&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;change_price&quot;</span><span class="token operator">:</span> <span class="token number">600000</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;change_rate&quot;</span><span class="token operator">:</span> <span class="token number">0.012</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;signed_change_price&quot;</span><span class="token operator">:</span> <span class="token number">600000</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;signed_change_rate&quot;</span><span class="token operator">:</span> <span class="token number">0.012</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;trade_volume&quot;</span><span class="token operator">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;acc_trade_price&quot;</span><span class="token operator">:</span> <span class="token number">1000000000</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;acc_trade_price_24h&quot;</span><span class="token operator">:</span> <span class="token number">2000000000</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;acc_trade_volume&quot;</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;acc_trade_volume_24h&quot;</span><span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;highest_52_week_price&quot;</span><span class="token operator">:</span> <span class="token number">60000000</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;highest_52_week_date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2023-10-01&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;lowest_52_week_price&quot;</span><span class="token operator">:</span> <span class="token number">30000000</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;lowest_52_week_date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2023-03-01&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token number">1700179845000</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">]</span>
</span></code></pre>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">여기서 내가 필요한 데이터는 <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">trade_price</code> (현재가) 와 <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">change_rate</code> (변동률) 그리고 상승과 하락 여부를 나타내는 <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">change</code> 이 세가지 데이터이다.</p>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">이렇게 만들다 보니까 약간의 문제점을 발견할 수 있었다.</p>
<ul class="mb-4 list-inside list-disc space-y-2 text-sm text-blog-black md:text-base">
<li class="ml-4"><strong class="font-bold text-blog-blue">불필요한 데이터 전송</strong>: 200개 이상의 마켓 정보를 모두 받아야 함</li>
<li class="ml-4"><strong class="font-bold text-blog-blue">복잡한 데이터 구조</strong>: 두 개의 API를 호출해 병합해야 함</li>
<li class="ml-4"><strong class="font-bold text-blog-blue">클라이언트 부하</strong>: 데이터 가공 로직이 클라이언트에 집중됨</li>
<li class="ml-4"><strong class="font-bold text-blog-blue">보안 이슈</strong>: API 키나 로직이 클라이언트에 노출될 위험</li>
</ul>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">이를 해결하기 위해 <strong class="font-bold text-blog-blue">Backend For Frontend (BFF) 패턴</strong>을 적용해보기로 했다. Next.js의 Route Handler와 Server Component를 활용해 효율적인 데이터 파이프라인을 구축했보았다.</p>
<h1 class="mb-6 border-b-2 border-blog-gray-400 pt-4 pb-3 text-2xl font-bold text-blog-black md:text-4xl">BFF(Backend For Frontend) 패턴 만들기</h1>
<h2 class="mt-8 mb-4 text-xl font-semibold text-blog-black md:text-3xl">BFF란 무엇인가?</h2>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base"><img alt="kakao-bff" loading="lazy" width="600" height="600" decoding="async" data-nimg="1" class="mx-auto mb-4 h-auto rounded-lg" style="color:transparent" src="/thumbnail/bff-with-upbit-thumbnail.webp"/></p>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base"><strong class="font-bold text-blog-blue">Backend For Frontend (BFF)</strong> 는 프론트엔드에 최적화된 데이터를 제공하기 위한 중간 서버 레이어이다.</p>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">BFF는 클라이언트의 요구사항에 맞게 데이터를 가공하고, 여러 백엔드 서비스로부터 데이터를 집계하여 단일 API 엔드포인트를 제공한다. 이를 통해 클라이언트는 복잡한 백엔드 로직을 신경쓰지 않고도 필요한 데이터를 쉽게 얻을 수 있다.</p>
<h2 class="mt-8 mb-4 text-xl font-semibold text-blog-black md:text-3xl">주요 특징</h2>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base"><img alt="bff-advantages" loading="lazy" width="600" height="600" decoding="async" data-nimg="1" class="mx-auto mb-4 h-auto rounded-lg" style="color:transparent" src="/images/bff-with-upbit-1.png"/></p>
<ol class="mb-4 list-inside list-decimal space-y-2 text-sm text-blog-black md:text-base">
<li class="ml-4"><strong class="font-bold text-blog-blue">데이터 집계(Aggregation)</strong>: 여러 외부 API를 하나로 통합</li>
<li class="ml-4"><strong class="font-bold text-blog-blue">데이터 변환(Transformation)</strong>: 클라이언트 요구사항에 맞게 가공</li>
<li class="ml-4"><strong class="font-bold text-blog-blue">필터링(Filtering)</strong>: 불필요한 필드 제거, 전송량 최소화</li>
<li class="ml-4"><strong class="font-bold text-blog-blue">캐싱(Caching)</strong>: 서버 레벨에서 응답 캐싱으로 성능 향상</li>
</ol>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">전에 카테캠을 진행하면서 멘토님께서 BFF 패턴에 대해 소개해주셨던 기억이났다. 그때는 BFF 패턴이 왜 필요한지, 어떻게 만드는건지 잘 몰랐었는데, 이번 프로젝트를 진행하면서 BFF 패턴이 왜 필요한지, 어떻게 만드는건지 조금은 알게된 것 같다.</p>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">그때 멘토님께서 알려주신 BFF 관련 블로그 글도 다시 한번 읽어보았다.</p>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base"><a class="hover:text-blog-purple text-sm text-blog-blue underline underline-offset-2 transition-all hover:underline-offset-4 md:text-base" href="https://tech.kakaoent.com/front-end/2022/220310-kakaopage-bff/" rel="noopener noreferrer" target="_blank">카카오페이지는 BFF(Backend For Frontend)를 어떻게 적용했을까?</a></p>
<h2 class="mt-8 mb-4 text-xl font-semibold text-blog-black md:text-3xl">아키텍처 설계</h2>
<h3 class="mt-6 mb-3 text-lg font-semibold text-blog-black md:text-2xl">전체 플로우</h3>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base"><img alt="bff-architecture" loading="lazy" width="600" height="600" decoding="async" data-nimg="1" class="mx-auto mb-4 h-auto rounded-lg" style="color:transparent" src="/images/bff-with-upbit-2.png"/></p>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">클라이언트가 <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">/api/market</code>을 호출하면 Route Handler가 <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">marketInfoHandler</code>를 실행한다. Handler는 Upbit Market API에서 전체 마켓 리스트(200+ 종목)를 받아온 후, KRW 마켓만 필터링하고 <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">market</code>, <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">korean_name</code>을 추출한다.</p>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">그 다음 Upbit Ticker API에서 실시간 시세 데이터를 가져와 두 데이터를 병합한다. 최종적으로 <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">market</code>, <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">koreanName</code>, <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">tradePrice</code>, <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">changeRate</code> 4개 필드만 선택해 정제된 데이터 배열을 JSON으로 반환한다.</p>
<h1 class="mb-6 border-b-2 border-blog-gray-400 pt-4 pb-3 text-2xl font-bold text-blog-black md:text-4xl">본격적으로 BFF 구현하기</h1>
<h2 class="mt-8 mb-4 text-xl font-semibold text-blog-black md:text-3xl">1. 외부 API 호출 함수 구현</h2>
<h3 class="mt-6 mb-3 text-lg font-semibold text-blog-black md:text-2xl">Market API (마켓 리스트)</h3>
<pre class="mb-4 overflow-x-auto rounded-lg bg-[#2d2d2d] p-4 text-sm shadow-md"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// src/entities/market/model/ticker.api.ts</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">UPBIT_URL</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@/shared&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">MarketAllItem</span> <span class="token punctuation">{</span>
</span><span class="code-line">  market<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span><span class="code-line">  korean_name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span><span class="code-line">  english_name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span><span class="code-line">  market_warning<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> marketAllAPI <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>MarketAllItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">UPBIT_URL</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/market/all?isDetails=false</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">    next<span class="token operator">:</span> <span class="token punctuation">{</span> revalidate<span class="token operator">:</span> <span class="token number">60</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 60초 캐시 (서버 컴포넌트 환경에서)</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>response<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#x27;Upbit API error&#x27;</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span>status<span class="token punctuation">,</span> response<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;Failed to fetch market data&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> data<span class="token operator">:</span> MarketAllItem<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">return</span> data<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base"><strong class="font-bold text-blog-blue">포인트</strong></p>
<ul class="mb-4 list-inside list-disc space-y-2 text-sm text-blog-black md:text-base">
<li class="ml-4"><code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">next.revalidate: 60</code>: 마켓 리스트는 자주 변하지 않으므로 60초 캐시</li>
<li class="ml-4">타입 안전성을 위한 인터페이스 정의</li>
</ul>
<h3 class="mt-6 mb-3 text-lg font-semibold text-blog-black md:text-2xl">Ticker API (실시간 시세)</h3>
<pre class="mb-4 overflow-x-auto rounded-lg bg-[#2d2d2d] p-4 text-sm shadow-md"><code class="language-tsx code-highlight"><span class="code-line"><span class="token comment">// src/entities/market/model/ticker.api.ts</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">UPBIT_URL</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@/shared&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">ChangeState</span> <span class="token operator">=</span> <span class="token string">&#x27;RISE&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;EVEN&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;FALL&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">TickerResponse</span> <span class="token punctuation">{</span>
</span><span class="code-line">  market<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span><span class="code-line">  trade_price<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  signed_change_rate<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  change<span class="token operator">:</span> <span class="token maybe-class-name">ChangeState</span><span class="token punctuation">;</span>
</span><span class="code-line">  prev_closing_price<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  opening_price<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  high_price<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  low_price<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  trade_timestamp<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token comment">// ... 기타 필드</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> tickerAPI <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>
</span><span class="code-line">  markets<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token known-class-name class-name">Promise</span><span class="token operator">&lt;</span><span class="token maybe-class-name">TickerResponse</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> marketsQuery <span class="token operator">=</span> markets<span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token string">&#x27;,&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">UPBIT_URL</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/ticker?markets=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>marketsQuery<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">    cache<span class="token operator">:</span> <span class="token string">&#x27;no-store&#x27;</span><span class="token punctuation">,</span> <span class="token comment">// 실시간 데이터이므로 캐시 비활성화</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>response<span class="token punctuation">.</span><span class="token property-access">ok</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;Failed to fetch ticker data&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base"><strong class="font-bold text-blog-blue">포인트</strong></p>
<ul class="mb-4 list-inside list-disc space-y-2 text-sm text-blog-black md:text-base">
<li class="ml-4"><code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">cache: &quot;no-store&quot;</code>: 실시간 시세는 캐시하지 않음</li>
<li class="ml-4">배열 파라미터로 여러 마켓을 한 번에 조회</li>
</ul>
<h3 class="mt-6 mb-3 text-lg font-semibold text-blog-black md:text-2xl">2. Handler 구현 (데이터 집계 &amp; 변환)</h3>
<pre class="mb-4 overflow-x-auto rounded-lg bg-[#2d2d2d] p-4 text-sm shadow-md"><code class="language-tsx code-highlight"><span class="code-line"><span class="token comment">// src/entities/market/handler/market-info.handler.ts</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> marketAllAPI<span class="token punctuation">,</span> tickerAPI <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;../model&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">marketInfoHandler</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// 1. 전체 마켓 리스트 조회</span>
</span><span class="code-line">  <span class="token keyword">const</span> marketData <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">marketAllAPI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 2. KRW 마켓만 필터링 &amp; 필요한 필드만 추출</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token maybe-class-name">KRWmarketList</span> <span class="token operator">=</span> marketData
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> item<span class="token punctuation">.</span><span class="token property-access">market</span><span class="token punctuation">.</span><span class="token method function property-access">startsWith</span><span class="token punctuation">(</span><span class="token string">&#x27;KRW-&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">      market<span class="token operator">:</span> item<span class="token punctuation">.</span><span class="token property-access">market</span><span class="token punctuation">,</span>
</span><span class="code-line">      korean_name<span class="token operator">:</span> item<span class="token punctuation">.</span><span class="token property-access">korean_name</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 3. 실시간 시세 조회</span>
</span><span class="code-line">  <span class="token keyword">const</span> tickerData <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">tickerAPI</span><span class="token punctuation">(</span><span class="token maybe-class-name">KRWmarketList</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> item<span class="token punctuation">.</span><span class="token property-access">market</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 4. 두 데이터 병합 &amp; 최종 형태로 변환</span>
</span><span class="code-line">  <span class="token keyword">const</span> result <span class="token operator">=</span> tickerData<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ticker<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> marketInfo <span class="token operator">=</span> <span class="token maybe-class-name">KRWmarketList</span><span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> m<span class="token punctuation">.</span><span class="token property-access">market</span> <span class="token operator">===</span> ticker<span class="token punctuation">.</span><span class="token property-access">market</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="code-line">      market<span class="token operator">:</span> ticker<span class="token punctuation">.</span><span class="token property-access">market</span><span class="token punctuation">,</span>
</span><span class="code-line">      koreanName<span class="token operator">:</span> marketInfo<span class="token operator">?.</span>korean_name <span class="token operator">||</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      tradePrice<span class="token operator">:</span> ticker<span class="token punctuation">.</span><span class="token property-access">trade_price</span><span class="token punctuation">,</span>
</span><span class="code-line">      changeRate<span class="token operator">:</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ticker<span class="token punctuation">.</span><span class="token property-access">signed_change_rate</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base"><strong class="font-bold text-blog-blue">핵심 로직</strong></p>
<ol class="mb-4 list-inside list-decimal space-y-2 text-sm text-blog-black md:text-base">
<li class="ml-4"><strong class="font-bold text-blog-blue">필터링</strong>: 200+ 마켓 중 <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">KRW-</code>로 시작하는 원화 마켓만 선택</li>
<li class="ml-4"><strong class="font-bold text-blog-blue">병합</strong>: <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">market</code> 필드를 기준으로 마켓 정보와 시세 정보 결합</li>
<li class="ml-4"><strong class="font-bold text-blog-blue">변환</strong>:<!-- -->
<ul class="mb-4 list-inside list-disc space-y-2 text-sm text-blog-black md:text-base">
<li class="ml-4"><code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">signed_change_rate</code>를 퍼센트로 변환 (× 100)</li>
<li class="ml-4">소수 둘째 자리까지 반올림</li>
<li class="ml-4">클라이언트에 필요한 4개 필드만 반환</li>
</ul>
</li>
</ol>
<h3 class="mt-6 mb-3 text-lg font-semibold text-blog-black md:text-2xl">3. Route Handler 구현</h3>
<pre class="mb-4 overflow-x-auto rounded-lg bg-[#2d2d2d] p-4 text-sm shadow-md"><code class="language-tsx code-highlight"><span class="code-line"><span class="token comment">// src/app/api/market/route.ts</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">NextResponse</span> <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;next/server&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> marketInfoHandler <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;@/entities/market/handler/market-info.handler&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token constant">GET</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">try</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">marketInfoHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token maybe-class-name">NextResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">      success<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">      data<span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">&#x27;Market API error:&#x27;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token maybe-class-name">NextResponse</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span>
</span><span class="code-line">      <span class="token punctuation">{</span>
</span><span class="code-line">        success<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">        error<span class="token operator">:</span> <span class="token string">&#x27;Failed to fetch market data&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">{</span> status<span class="token operator">:</span> <span class="token number">500</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base"><strong class="font-bold text-blog-blue">포인트</strong></p>
<ul class="mb-4 list-inside list-disc space-y-2 text-sm text-blog-black md:text-base">
<li class="ml-4">에러 핸들링 추가</li>
<li class="ml-4">일관된 응답 형식 (<code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">success</code>, <code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">data</code>/<code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">error</code>)</li>
<li class="ml-4">HTTP 상태 코드 적절히 반환</li>
</ul>
<h2 class="mt-8 mb-4 text-xl font-semibold text-blog-black md:text-3xl">4. 클라이언트에서 BFF API 호출</h2>
<h3 class="mt-6 mb-3 text-lg font-semibold text-blog-black md:text-2xl">tanstack-query를 사용한 데이터 페칭</h3>
<pre class="mb-4 overflow-x-auto rounded-lg bg-[#2d2d2d] p-4 text-sm shadow-md"><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> useQuery <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;@tanstack/react-query&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> marketAPI <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;../apis&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useGetMarketInfo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token function">useQuery</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">    queryKey<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;market-info&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">    queryFn<span class="token operator">:</span> marketAPI<span class="token punctuation">,</span>
</span><span class="code-line">    refetchInterval<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token comment">// 10초 폴링</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre>
<h2 class="mt-8 mb-4 text-xl font-semibold text-blog-black md:text-3xl">5. 실제 응답 예시</h2>
<h3 class="mt-6 mb-3 text-lg font-semibold text-blog-black md:text-2xl">API 응답</h3>
<pre class="mb-4 overflow-x-auto rounded-lg bg-[#2d2d2d] p-4 text-sm shadow-md"><code class="language-json code-highlight"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">    <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">&quot;market&quot;</span><span class="token operator">:</span> <span class="token string">&quot;KRW-BTC&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;koreanName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;비트코인&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;tradePrice&quot;</span><span class="token operator">:</span> <span class="token number">50500000</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;changeRate&quot;</span><span class="token operator">:</span> <span class="token number">1.2</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">&quot;market&quot;</span><span class="token operator">:</span> <span class="token string">&quot;KRW-ETH&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;koreanName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;이더리움&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;tradePrice&quot;</span><span class="token operator">:</span> <span class="token number">3500000</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token property">&quot;changeRate&quot;</span><span class="token operator">:</span> <span class="token number">-0.5</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token comment">// ... 기타 마켓</span>
</span><span class="code-line">  <span class="token punctuation">]</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base">성공적으로 BFF 패턴을 적용하여 Upbit API를 효율적으로 사용할 수 있게 되었다. 클라이언트는 단일 엔드포인트(<code class="rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm">/api/market</code>)만 호출하면 필요한 모든 데이터를 얻을 수 있다.</p>
<p class="mb-4 text-sm leading-relaxed text-blog-black md:text-base"><img alt="Dobbit BFF" loading="lazy" width="600" height="600" decoding="async" data-nimg="1" class="mx-auto mb-4 h-auto rounded-lg" style="color:transparent" src="/images/bff-with-upbit-3.png"/></p></div></article></div></div><!--$--><!--/$--><!--$--><!--/$--></div><footer class="flex h-footer w-full items-center justify-center bg-blog-gray-300 px-4"><div class="flex flex-col items-start justify-between gap-1"><p class="text-sm text-blog-gray-600 md:text-base">Copyright © 2025 <b>Dobbymin</b> All rights reserved.</p><div class="flex flex-wrap items-center justify-center gap-1 font-fira-code text-sm text-blog-gray-600 md:text-base"><span>gmin0701@knu.ac.kr</span><span class="font-bold">.</span><span class="hidden md:inline">+82-10-3095-7259</span><span class="hidden font-bold md:inline">.</span><a class="hover:font-bold hover:underline" href="https://github.com/Dobbymin">GitHub</a><span class="font-bold">.</span><a class="hover:font-bold hover:underline" href="https://www.linkedin.com/in/dobbymin/">LinkedIn</a></div></div></footer></div></main></div><section aria-label="Notifications alt+T" tabindex="-1" aria-live="polite" aria-relevant="additions text" aria-atomic="false"></section><script src="https://Dobbymin.github.io/_next/static/chunks/webpack-4b24c5cd000e9592.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[70,[\"272\",\"static/chunks/272-3a16f3f06ee953eb.js\",\"83\",\"static/chunks/83-22b92d4537e44d01.js\",\"457\",\"static/chunks/app/post/%5Bid%5D/page-a1fd5b3e284f200e.js\"],\"\"]\n3:I[4299,[\"272\",\"static/chunks/272-3a16f3f06ee953eb.js\",\"83\",\"static/chunks/83-22b92d4537e44d01.js\",\"457\",\"static/chunks/app/post/%5Bid%5D/page-a1fd5b3e284f200e.js\"],\"Image\"]\n4:I[831,[],\"\"]\n5:I[8307,[],\"\"]\n6:I[2310,[\"272\",\"static/chunks/272-3a16f3f06ee953eb.js\",\"83\",\"static/chunks/83-22b92d4537e44d01.js\",\"457\",\"static/chunks/app/post/%5Bid%5D/page-a1fd5b3e284f200e.js\"],\"Toaster\"]\n8:I[9757,[],\"MetadataBoundary\"]\na:I[9757,[],\"OutletBoundary\"]\nd:I[8475,[],\"AsyncMetadataOutlet\"]\nf:I[9757,[],\"ViewportBoundary\"]\n11:I[8458,[],\"\"]\n:HL[\"https://Dobbymin.github.io/_next/static/media/3703c28dcda155b1-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"https://Dobbymin.github.io/_next/static/media/4cf2300e9c8272f7-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"https://Dobbymin.github.io/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"https://Dobbymin.github.io/_next/static/media/dbd4bef41e4e627e-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"https://Dobbymin.github.io/_next/static/media/ff840cfebfb63b0c-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"https://Dobbymin.github.io/_next/static/css/9d57e8ce5aa93759.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"R3eew5E919C8pv4ToCBsP\",\"p\":\"https://Dobbymin.github.io\",\"c\":[\"\",\"post\",\"bff-with-upbit\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"post\",{\"children\":[[\"id\",\"bff-with-upbit\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"https://Dobbymin.github.io/_next/static/css/9d57e8ce5aa93759.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_275e91 __variable_63407e __variable_670af1 __variable_6dcb0b __variable_40c4eb antialiased\",\"children\":[[\"$\",\"div\",null,{\"className\":\"w-full bg-blog-gray-100\",\"children\":[[\"$\",\"header\",null,{\"className\":\"fixed top-0 right-0 left-0 z-100 flex items-center justify-center bg-blog-gray-500 transition-colors\",\"children\":[\"$\",\"div\",null,{\"className\":\"relative flex h-header w-full max-w-7xl items-center justify-between px-4 md:px-8\",\"children\":[[\"$\",\"$L2\",null,{\"href\":\"/\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center gap-4\",\"children\":[[\"$\",\"$L3\",null,{\"alt\":\"Dobblog Logo\",\"className\":\"rounded-full\",\"height\":40,\"src\":\"/logo.png\",\"width\":40}],[\"$\",\"p\",null,{\"className\":\"hidden font-lemon text-xl md:block md:text-3xl\",\"children\":\"Dobblog\"}]]}]}],[\"$\",\"div\",null,{\"className\":\"absolute top-1/2 left-1/2 hidden w-[400px] max-w-[60vw] -translate-x-1/2 -translate-y-1/2 items-center justify-center gap-3 rounded-sm bg-blog-gray-100 md:flex\",\"children\":[[\"$\",\"input\",null,{\"className\":\"flex h-9 w-full min-w-0 rounded-md border border-input px-3 py-1 transition-[color,box-shadow] selection:bg-primary selection:text-primary-foreground file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:bg-input/30 focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 border-none bg-transparent text-sm text-blog-gray-500 shadow-none outline-none placeholder:text-blog-gray-400 focus:border-none focus:ring-0 focus:outline-none\",\"data-slot\":\"input\",\"type\":\"text\"}],[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":20,\"height\":20,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-search mr-3 text-blog-gray-500\",\"aria-hidden\":\"true\",\"children\":[[\"$\",\"path\",\"14j7rj\",{\"d\":\"m21 21-4.34-4.34\"}],[\"$\",\"circle\",\"4ej97u\",{\"cx\":\"11\",\"cy\":\"11\",\"r\":\"8\"}],\"$undefined\"]}]]}],[\"$\",\"div\",null,{\"className\":\"flex items-center justify-between gap-3 md:gap-5\",\"children\":[[\"$\",\"$L2\",null,{\"href\":\"/about\",\"children\":[\"$\",\"p\",null,{\"className\":\"font-lemon text-base md:text-xl\",\"children\":\"About\"}]}],[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":20,\"height\":20,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-sun cursor-pointer text-blog-pink\",\"aria-hidden\":\"true\",\"children\":[[\"$\",\"circle\",\"4exip2\",{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"4\"}],[\"$\",\"path\",\"tus03m\",{\"d\":\"M12 2v2\"}],[\"$\",\"path\",\"1lh1kg\",{\"d\":\"M12 20v2\"}],[\"$\",\"path\",\"149t6j\",{\"d\":\"m4.93 4.93 1.41 1.41\"}],[\"$\",\"path\",\"ptbguv\",{\"d\":\"m17.66 17.66 1.41 1.41\"}],[\"$\",\"path\",\"1t8f8n\",{\"d\":\"M2 12h2\"}],[\"$\",\"path\",\"1q8mjw\",{\"d\":\"M20 12h2\"}],[\"$\",\"path\",\"1m8zz5\",{\"d\":\"m6.34 17.66-1.41 1.41\"}],[\"$\",\"path\",\"1shlcs\",{\"d\":\"m19.07 4.93-1.41 1.41\"}],\"$undefined\"]}]]}]]}]}],[\"$\",\"main\",null,{\"className\":\"pt-16\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex min-h-[calc(100vh-4rem)] flex-col\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-16 flex-grow\",\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"footer\",null,{\"className\":\"flex h-footer w-full items-center justify-center bg-blog-gray-300 px-4\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col items-start justify-between gap-1\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-sm text-blog-gray-600 md:text-base\",\"children\":[\"Copyright © 2025 \",[\"$\",\"b\",null,{\"children\":\"Dobbymin\"}],\" All rights reserved.\"]}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap items-center justify-center gap-1 font-fira-code text-sm text-blog-gray-600 md:text-base\",\"children\":[[\"$\",\"span\",null,{\"children\":\"gmin0701@knu.ac.kr\"}],[\"$\",\"span\",null,{\"className\":\"font-bold\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"hidden md:inline\",\"children\":\"+82-10-3095-7259\"}],[\"$\",\"span\",null,{\"className\":\"hidden font-bold md:inline\",\"children\":\".\"}],[\"$\",\"$L2\",null,{\"className\":\"hover:font-bold hover:underline\",\"href\":\"https://github.com/Dobbymin\",\"children\":\"GitHub\"}],[\"$\",\"span\",null,{\"className\":\"font-bold\",\"children\":\".\"}],[\"$\",\"$L2\",null,{\"className\":\"hover:font-bold hover:underline\",\"href\":\"https://www.linkedin.com/in/dobbymin/\",\"children\":\"LinkedIn\"}]]}]]}]}]]}]}]]}],[\"$\",\"$L6\",null,{}]]}]}]]}],{\"children\":[\"post\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"id\",\"bff-with-upbit\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L7\",[\"$\",\"$L8\",null,{\"children\":\"$L9\"}],null,[\"$\",\"$La\",null,{\"children\":[\"$Lb\",\"$Lc\",[\"$\",\"$Ld\",null,{\"promise\":\"$@e\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"ErkoeedsXyDe0wgcV_BnV\",{\"children\":[[\"$\",\"$Lf\",null,{\"children\":\"$L10\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$11\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"12:\"$Sreact.suspense\"\n13:I[8475,[],\"AsyncMetadata\"]\n9:[\"$\",\"$12\",null,{\"fallback\":null,\"children\":[\"$\",\"$L13\",null,{\"promise\":\"$@14\"}]}]\n7:[\"$\",\"div\",null,{\"className\":\"flex w-full items-center justify-center\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex w-full max-w-4xl flex-col gap-4\",\"children\":[[\"$\",\"header\",null,{\"className\":\"w-full bg-white p-6 md:p-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col gap-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-sm font-bold text-blog-green\",\"children\":\"Project\"}],[\"$\",\"h1\",null,{\"className\":\"text-2xl font-bold text-blog-black md:text-4xl\",\"children\":\"Next.js로 만드는 BFF with Upbit\"}],[\"$\",\"p\",null,{\"className\":\"text-sm text-blog-gray-600 md:text-base\",\"children\":\"Next.js로 BFF(Backend For Frontend) 패턴을 적용하여 Upbit API를 효율적으로 사용하는 방법을 알아보자!\"}],[\"$\",\"div\",null,{\"className\":\"flex items-center gap-2 pt-2\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-calendar-days size-5 text-blog-gray-600\",\"aria-hidden\":\"true\",\"children\":[[\"$\",\"path\",\"1cmpym\",{\"d\":\"M8 2v4\"}],[\"$\",\"path\",\"4m81vk\",{\"d\":\"M16 2v4\"}],[\"$\",\"rect\",\"1hopcy\",{\"width\":\"18\",\"height\":\"18\",\"x\":\"3\",\"y\":\"4\",\"rx\":\"2\"}],[\"$\",\"path\",\"8toen8\",{\"d\":\"M3 10h18\"}],[\"$\",\"path\",\"6423bh\",{\"d\":\"M8 14h.01\"}],[\"$\",\"path\",\"1etili\",{\"d\":\"M12 14h.01\"}],[\"$\",\"path\",\"1gbofw\",{\"d\":\"M16 14h.01\"}],[\"$\",\"path\",\"lrp35t\",{\"d\":\"M8 18h.01\"}],[\"$\",\"path\",\"mhygvu\",{\"d\":\"M12 18h.01\"}],[\"$\",\"path\",\"kzsmim\",{\"d\":\"M16 18h.01\"}],\"$undefined\"]}],[\"$\",\"time\",null,{\"className\":\"text-sm font-medium text-blog-gray-600\",\"children\":\"2025-11-11\"}]]}]]}]}],[\"$\",\"article\",null,{\"className\":\"w-full bg-white p-4 md:p-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"prose prose-lg w-full max-w-none\",\"children\":\"$L15\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"c:null\n"])</script><script>self.__next_f.push([1,"15:[[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":\"최근에 Next.js를 사용해서 \\\"모의 비트코인 매매\\\" 프로젝트를 진행하게되었다. 별도의 서버를 구축하지 않고, Upbit에서 제공하는 Open API를 활용해서 만들어볼려고 한다.\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":\"우선, 내가 혼자서 Next.js 만으로 이 프로젝트를 진행하는 이유는 다음과 같다.\"}],\"\\n\",[\"$\",\"blockquote\",null,{\"className\":\"my-4 border-l-4 border-blog-green bg-blog-gray-100 py-5 pr-6 pl-4 text-sm text-blog-black md:text-base [\u0026\u003e:last-child]:mb-0\",\"children\":[\"\\n\",[\"$\",\"ol\",null,{\"className\":\"mb-4 list-inside list-decimal space-y-2 text-sm text-blog-black md:text-base\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"별도의 Express 서버를 구축하는 방법도 있지만, 아직 서버에 대한 지식이 많이 부족해서 성능이 최적회된 Express 기반의 서버를 구축하기 힘들었다.\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"이전에는 바이브 코딩으로 서버를 구축하고, Vercel 로 배포했었으나 조금 번거롭기도 했고, Next.js의 API 라우트를 활용해서 간단한 서버 기능을 대체할 수 있을 것 같았다.\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"최근에 Vite + Supabase 조합의 강의를 들으면서, Supabase 만으로도 간단하게 데이터를 저장하고, 인증기능을 구현할 수 있다는 점을 알게되었다.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":\"따라서 이번 프로젝트에서는 Next.js와 Supabase 그리고 Upbit 에서 제공하는 Open API 만 활용해서 프로젝트를 진행하고 있다.\"}],\"\\n\",[\"$\",\"h1\",null,{\"className\":\"mb-6 border-b-2 border-blog-gray-400 pt-4 pb-3 text-2xl font-bold text-blog-black md:text-4xl\",\"children\":\"API 문서 살펴보기\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":\"우선 어느정도의 UI를 만들고, 코인 정보를 가져오기 위해 Upbit Open API 문서를 살펴보았다.\"}],\"\\n\",[\"$\",\"blockquote\",null,{\"className\":\"my-4 border-l-4 border-blog-green bg-blog-gray-100 py-5 pr-6 pl-4 text-sm text-blog-black md:text-base [\u0026\u003e:last-child]:mb-0\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":[\"업비트 Open API 문서 : \",[\"$\",\"a\",null,{\"className\":\"hover:text-blog-purple text-sm text-blog-blue underline underline-offset-2 transition-all hover:underline-offset-4 md:text-base\",\"href\":\"https://docs.upbit.com/kr\",\"rel\":\"noopener noreferrer\",\"target\":\"_blank\",\"children\":\"Upbit Developer Center\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":\"여기서 모든 코인 정보를 가져오고 싶었고, Upbit Open API 문서에서 다음과 같은 엔드포인트를 발견할 수 있었다.\"}],\"\\n\",[\"$\",\"blockquote\",null,{\"className\":\"my-4 border-l-4 border-blog-green bg-blog-gray-100 py-5 pr-6 pl-4 text-sm text-blog-black md:text-base [\u0026\u003e:last-child]:mb-0\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":[\"페어 목록 조회 \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"GET\"}],\" \",[\"$\",\"a\",null,{\"className\":\"hover:text-blog-purple text-sm text-blog-blue underline underline-offset-2 transition-all hover:underline-offset-4 md:text-base\",\"href\":\"https://api.upbit.com/v1/market/all\",\"rel\":\"noopener noreferrer\",\"target\":\"_blank\",\"children\":\"https://api.upbit.com/v1/market/all\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":\"이 API를 호출하면 다음과 같은 응답을 받을 수 있다.\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"mb-4 overflow-x-auto rounded-lg bg-[#2d2d2d] p-4 text-sm shadow-md\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-json code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"market\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"KRW-BTC\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"korean_name\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"비트코인\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"english_name\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"Bitcoin\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"market_event\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"warning\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"caution\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"PRICE_FLUCTUATIONS\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"TRADING_VOLUME_SOARING\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"DEPOSIT_AMOUNT_SOARING\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"GLOBAL_PRICE_DIFFERENCES\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"CONCENTRATION_OF_SMALL_ACCOUNTS\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"market\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"KRW-ETH\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"korean_name\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"이더리움\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"english_name\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"Ethereum\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"market_event\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"warning\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"caution\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"PRICE_FLUCTUATIONS\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"TRADING_VOLUME_SOARING\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"DEPOSIT_AMOUNT_SOARING\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"GLOBAL_PRICE_DIFFERENCES\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"CONCENTRATION_OF_SMALL_ACCOUNTS\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":[\"일단 이 API 에서 필요한 데이터는 \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"market\"}],\", \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"korean_name\"}],\", \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"english_name\"}],\" 이 세가지 데이터이다. 나머지는 필요하지 않았다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":\"그 다음으로는 특정 코인의 현재가 정보를 가져오는 API를 살펴보았다.\"}],\"\\n\",[\"$\",\"blockquote\",null,{\"className\":\"my-4 border-l-4 border-blog-green bg-blog-gray-100 py-5 pr-6 pl-4 text-sm text-blog-black md:text-base [\u0026\u003e:last-child]:mb-0\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":[\"페어 단위 현재가 조회 \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"GET\"}],\" \",[\"$\",\"a\",null,{\"className\":\"hover:text-blog-purple text-sm text-blog-blue underline underline-offset-2 transition-all hover:underline-offset-4 md:text-base\",\"href\":\"https://api.upbit.com/v1/ticker\",\"rel\":\"noopener noreferrer\",\"target\":\"_blank\",\"children\":\"https://api.upbit.com/v1/ticker\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":[\"Query Parameter로 \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"markets\"}],\" 라는 키값에 조회하고자하는 페어 목록을 콤마(,)로 구분하여 전달하면 된다. 예를 들어, \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"KRW-BTC,KRW-ETH\"}],\" 와 같이 전달하면 된다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":\"이 API를 호출하면 다음과 같은 응답을 받을 수 있다.\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"mb-4 overflow-x-auto rounded-lg bg-[#2d2d2d] p-4 text-sm shadow-md\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-json code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"market\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"KRW-BTC\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"trade_date\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"20231111\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"trade_time\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"153045\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"trade_timestamp\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1700179845000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"opening_price\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"50000000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"high_price\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"51000000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"low_price\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"49000000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"trade_price\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"50500000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"prev_closing_price\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"49900000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"change\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"RISE\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"change_price\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"600000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"change_rate\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0.012\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"signed_change_price\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"600000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"signed_change_rate\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0.012\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"trade_volume\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0.1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"acc_trade_price\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1000000000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"acc_trade_price_24h\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2000000000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"acc_trade_volume\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"20\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"acc_trade_volume_24h\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"40\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"highest_52_week_price\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"60000000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"highest_52_week_date\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"2023-10-01\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"lowest_52_week_price\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"30000000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"lowest_52_week_date\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"2023-03-01\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"timestamp\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1700179845000\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":[\"여기서 내가 필요한 데이터는 \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"trade_price\"}],\" (현재가) 와 \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"change_rate\"}],\" (변동률) 그리고 상승과 하락 여부를 나타내는 \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"change\"}],\" 이 세가지 데이터이다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":\"이렇게 만들다 보니까 약간의 문제점을 발견할 수 있었다.\"}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mb-4 list-inside list-disc space-y-2 text-sm text-blog-black md:text-base\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"className\":\"font-bold text-blog-blue\",\"children\":\"불필요한 데이터 전송\"}],\": 200개 이상의 마켓 정보를 모두 받아야 함\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"className\":\"font-bold text-blog-blue\",\"children\":\"복잡한 데이터 구조\"}],\": 두 개의 API를 호출해 병합해야 함\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"className\":\"font-bold text-blog-blue\",\"children\":\"클라이언트 부하\"}],\": 데이터 가공 로직이 클라이언트에 집중됨\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"className\":\"font-bold text-blog-blue\",\"children\":\"보안 이슈\"}],\": API 키나 로직이 클라이언트에 노출될 위험\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":[\"이를 해결하기 위해 \",[\"$\",\"strong\",null,{\"className\":\"font-bold text-blog-blue\",\"children\":\"Backend For Frontend (BFF) 패턴\"}],\"을 적용해보기로 했다. Next.js의 Route Handler와 Server Component를 활용해 효율적인 데이터 파이프라인을 구축했보았다.\"]}],\"\\n\",[\"$\",\"h1\",null,{\"className\":\"mb-6 border-b-2 border-blog-gray-400 pt-4 pb-3 text-2xl font-bold text-blog-black md:text-4xl\",\"children\":\"BFF(Backend For Frontend) 패턴 만들기\"}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-8 mb-4 text-xl font-semibold text-blog-black md:text-3xl\",\"children\":\"BFF란 무엇인가?\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":[\"$\",\"$L3\",null,{\"src\":\"/thumbnail/bff-with-upbit-thumbnail.webp\",\"alt\":\"kakao-bff\",\"className\":\"mx-auto mb-4 h-auto rounded-lg\",\"height\":600,\"width\":600}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":[[\"$\",\"strong\",null,{\"className\":\"font-bold text-blog-blue\",\"children\":\"Backend For Frontend (BFF)\"}],\" 는 프론트엔드에 최적화된 데이터를 제공하기 위한 중간 서버 레이어이다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":\"BFF는 클라이언트의 요구사항에 맞게 데이터를 가공하고, 여러 백엔드 서비스로부터 데이터를 집계하여 단일 API 엔드포인트를 제공한다. 이를 통해 클라이언트는 복잡한 백엔드 로직을 신경쓰지 않고도 필요한 데이터를 쉽게 얻을 수 있다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-8 mb-4 text-xl font-semibold text-blog-black md:text-3xl\",\"children\":\"주요 특징\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":[\"$\",\"$L3\",null,{\"src\":\"/images/bff-with-upbit-1.png\",\"alt\":\"bff-advantages\",\"className\":\"mx-auto mb-4 h-auto rounded-lg\",\"height\":600,\"width\":600}]}],\"\\n\",[\"$\",\"ol\",null,{\"className\":\"mb-4 list-inside list-decimal space-y-2 text-sm text-blog-black md:text-base\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"className\":\"font-bold text-blog-blue\",\"children\":\"데이터 집계(Aggregation)\"}],\": 여러 외부 API를 하나로 통합\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"className\":\"font-bold text-blog-blue\",\"children\":\"데이터 변환(Transformation)\"}],\": 클라이언트 요구사항에 맞게 가공\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"className\":\"font-bold text-blog-blue\",\"children\":\"필터링(Filtering)\"}],\": 불필요한 필드 제거, 전송량 최소화\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"className\":\"font-bold text-blog-blue\",\"children\":\"캐싱(Caching)\"}],\": 서버 레벨에서 응답 캐싱으로 성능 향상\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":\"전에 카테캠을 진행하면서 멘토님께서 BFF 패턴에 대해 소개해주셨던 기억이났다. 그때는 BFF 패턴이 왜 필요한지, 어떻게 만드는건지 잘 몰랐었는데, 이번 프로젝트를 진행하면서 BFF 패턴이 왜 필요한지, 어떻게 만드는건지 조금은 알게된 것 같다.\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":\"그때 멘토님께서 알려주신 BFF 관련 블로그 글도 다시 한번 읽어보았다.\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":[\"$\",\"a\",null,{\"className\":\"hover:text-blog-purple text-sm text-blog-blue underline underline-offset-2 transition-all hover:underline-offset-4 md:text-base\",\"href\":\"https://tech.kakaoent.com/front-end/2022/220310-kakaopage-bff/\",\"rel\":\"noopener noreferrer\",\"target\":\"_blank\",\"children\":\"카카오페이지는 BFF(Backend For Frontend)를 어떻게 적용했을까?\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-8 mb-4 text-xl font-semibold text-blog-black md:text-3xl\",\"children\":\"아키텍처 설계\"}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-6 mb-3 text-lg font-semibold text-blog-black md:text-2xl\",\"children\":\"전체 플로우\"}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":[\"$\",\"$L3\",null,{\"src\":\"/images/bff-with-upbit-2.png\",\"alt\":\"bff-architecture\",\"className\":\"mx-auto mb-4 h-auto rounded-lg\",\"height\":600,\"width\":600}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":[\"클라이언트가 \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"/api/market\"}],\"을 호출하면 Route Handler가 \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"marketInfoHandler\"}],\"를 실행한다. Handler는 Upbit Market API에서 전체 마켓 리스트(200+ 종목)를 받아온 후, KRW 마켓만 필터링하고 \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"market\"}],\", \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"korean_name\"}],\"을 추출한다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":[\"그 다음 Upbit Ticker API에서 실시간 시세 데이터를 가져와 두 데이터를 병합한다. 최종적으로 \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"market\"}],\", \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"koreanName\"}],\", \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"tradePrice\"}],\", \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"changeRate\"}],\" 4개 필드만 선택해 정제된 데이터 배열을 JSON으로 반환한다.\"]}],\"\\n\",[\"$\",\"h1\",null,{\"className\":\"mb-6 border-b-2 border-blog-gray-400 pt-4 pb-3 text-2xl font-bold text-blog-black md:text-4xl\",\"children\":\"본격적으로 BFF 구현하기\"}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-8 mb-4 text-xl font-semibold text-blog-black md:text-3xl\",\"children\":\"1. 외부 API 호출 함수 구현\"}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-6 mb-3 text-lg font-semibold text-blog-black md:text-2xl\",\"children\":\"Market API (마켓 리스트)\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"mb-4 overflow-x-auto rounded-lg bg-[#2d2d2d] p-4 text-sm shadow-md\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// src/entities/market/model/ticker.api.ts\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UPBIT_URL\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'@/shared'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"interface\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"MarketAllItem\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  market\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  korean_name\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  english_name\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  market_warning\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" marketAllAPI \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"Promise\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"MarketAllItem\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" response \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"fetch\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UPBIT_URL\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"/market/all?isDetails=false\"}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    next\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" revalidate\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"60\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 60초 캐시 (서버 컴포넌트 환경에서)\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"response\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"ok\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"error\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Upbit API error'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" response\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"status\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" response\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"statusText\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"throw\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Error\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Failed to fetch market data'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" data\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" MarketAllItem\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" response\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"json\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":[\"$\",\"strong\",null,{\"className\":\"font-bold text-blog-blue\",\"children\":\"포인트\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mb-4 list-inside list-disc space-y-2 text-sm text-blog-black md:text-base\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"next.revalidate: 60\"}],\": 마켓 리스트는 자주 변하지 않으므로 60초 캐시\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"타입 안전성을 위한 인터페이스 정의\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-6 mb-3 text-lg font-semibold text-blog-black md:text-2xl\",\"children\":\"Ticker API (실시간 시세)\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"mb-4 overflow-x-auto rounded-lg bg-[#2d2d2d] p-4 text-sm shadow-md\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-tsx code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// src/entities/market/model/ticker.api.ts\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UPBIT_URL\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'@/shared'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"type\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"ChangeState\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'RISE'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"|\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'EVEN'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"|\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'FALL'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"interface\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"TickerResponse\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  market\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  trade_price\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"number\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  signed_change_rate\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"number\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  change\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"ChangeState\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  prev_closing_price\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"number\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  opening_price\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"number\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  high_price\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"number\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  low_price\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"number\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  trade_timestamp\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"number\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ... 기타 필드\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" tickerAPI \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  markets\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token known-class-name class-name\",\"children\":\"Promise\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"TickerResponse\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" marketsQuery \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" markets\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"join\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"','\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" response \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"fetch\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UPBIT_URL\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"/ticker?markets=\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"marketsQuery\",[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cache\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'no-store'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 실시간 데이터이므로 캐시 비활성화\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"response\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"ok\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"throw\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Error\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Failed to fetch ticker data'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" response\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"json\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":[\"$\",\"strong\",null,{\"className\":\"font-bold text-blog-blue\",\"children\":\"포인트\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mb-4 list-inside list-disc space-y-2 text-sm text-blog-black md:text-base\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"cache: \\\"no-store\\\"\"}],\": 실시간 시세는 캐시하지 않음\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"배열 파라미터로 여러 마켓을 한 번에 조회\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-6 mb-3 text-lg font-semibold text-blog-black md:text-2xl\",\"children\":\"2. Handler 구현 (데이터 집계 \u0026 변환)\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"mb-4 overflow-x-auto rounded-lg bg-[#2d2d2d] p-4 text-sm shadow-md\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-tsx code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// src/entities/market/handler/market-info.handler.ts\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" marketAllAPI\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" tickerAPI \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'../model'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"marketInfoHandler\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 1. 전체 마켓 리스트 조회\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" marketData \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"marketAllAPI\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 2. KRW 마켓만 필터링 \u0026 필요한 필드만 추출\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"KRWmarketList\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" marketData\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"filter\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"item\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" item\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"market\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"startsWith\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'KRW-'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"map\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"item\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      market\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" item\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"market\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      korean_name\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" item\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"korean_name\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 3. 실시간 시세 조회\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" tickerData \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"tickerAPI\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"KRWmarketList\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"map\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"item\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" item\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"market\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 4. 두 데이터 병합 \u0026 최종 형태로 변환\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" result \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" tickerData\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"map\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"ticker\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" marketInfo \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"KRWmarketList\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"find\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"m\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" m\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"market\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}],\" ticker\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"market\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      market\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" ticker\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"market\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      koreanName\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" marketInfo\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"?.\"}],\"korean_name \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"''\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      tradePrice\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" ticker\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"trade_price\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      changeRate\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"parseFloat\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"ticker\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"signed_change_rate\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"*\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"100\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"toFixed\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" result\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":[\"$\",\"strong\",null,{\"className\":\"font-bold text-blog-blue\",\"children\":\"핵심 로직\"}]}],\"\\n\",[\"$\",\"ol\",null,{\"className\":\"mb-4 list-inside list-decimal space-y-2 text-sm text-blog-black md:text-base\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"className\":\"font-bold text-blog-blue\",\"children\":\"필터링\"}],\": 200+ 마켓 중 \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"KRW-\"}],\"로 시작하는 원화 마켓만 선택\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"className\":\"font-bold text-blog-blue\",\"children\":\"병합\"}],\": \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"market\"}],\" 필드를 기준으로 마켓 정보와 시세 정보 결합\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"strong\",null,{\"className\":\"font-bold text-blog-blue\",\"children\":\"변환\"}],\":\",\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mb-4 list-inside list-disc space-y-2 text-sm text-blog-black md:text-base\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"signed_change_rate\"}],\"를 퍼센트로 변환 (× 100)\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"소수 둘째 자리까지 반올림\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"클라이언트에 필요한 4개 필드만 반환\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-6 mb-3 text-lg font-semibold text-blog-black md:text-2xl\",\"children\":\"3. Route Handler 구현\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"mb-4 overflow-x-auto rounded-lg bg-[#2d2d2d] p-4 text-sm shadow-md\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-tsx code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// src/app/api/market/route.ts\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"NextResponse\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next/server'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" marketInfoHandler \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'@/entities/market/handler/market-info.handler'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"GET\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"try\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" data \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"marketInfoHandler\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"NextResponse\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"json\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      success\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"catch\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"error\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token console class-name\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"error\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Market API error:'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" error\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"NextResponse\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"json\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        success\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        error\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Failed to fetch market data'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" status\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"500\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":[\"$\",\"strong\",null,{\"className\":\"font-bold text-blog-blue\",\"children\":\"포인트\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"className\":\"mb-4 list-inside list-disc space-y-2 text-sm text-blog-black md:text-base\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"에러 핸들링 추가\"}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":[\"일관된 응답 형식 (\",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"success\"}],\", \",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"data\"}],\"/\",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"error\"}],\")\"]}],\"\\n\",[\"$\",\"li\",null,{\"className\":\"ml-4\",\"children\":\"HTTP 상태 코드 적절히 반환\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-8 mb-4 text-xl font-semibold text-blog-black md:text-3xl\",\"children\":\"4. 클라이언트에서 BFF API 호출\"}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-6 mb-3 text-lg font-semibold text-blog-black md:text-2xl\",\"children\":\"tanstack-query를 사용한 데이터 페칭\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"mb-4 overflow-x-auto rounded-lg bg-[#2d2d2d] p-4 text-sm shadow-md\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-tsx code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" useQuery \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'@tanstack/react-query'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" marketAPI \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'../apis'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-variable function\",\"children\":\"useGetMarketInfo\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useQuery\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    queryKey\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'market-info'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    queryFn\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" marketAPI\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    refetchInterval\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// 10초 폴링\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"mt-8 mb-4 text-xl font-semibold text-blog-black md:text-3xl\",\"children\":\"5. 실제 응답 예시\"}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"mt-6 mb-3 text-lg font-semibold text-blog-black md:text-2xl\",\"children\":\"API 응답\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"mb-4 overflow-x-auto rounded-lg bg-[#2d2d2d] p-4 text-sm shadow-md\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-json code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"success\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"data\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"market\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"KRW-BTC\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"koreanName\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"비트코인\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"tradePrice\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"50500000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"changeRate\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1.2\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"market\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"KRW-ETH\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"koreanName\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"이더리움\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"tradePrice\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3500000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"changeRate\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"-0.5\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// ... 기타 마켓\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":[\"성공적으로 BFF 패턴을 적용하여 Upbit API를 효율적으로 사용할 수 있게 되었다. 클라이언트는 단일 엔드포인트(\",[\"$\",\"code\",null,{\"className\":\"rounded bg-blog-gray-200 px-2 py-1 font-mono text-xs text-blog-pink md:text-sm\",\"children\":\"/api/market\"}],\")만 호출하면 필요한 모든 데이터를 얻을 수 있다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"className\":\"mb-4 text-sm leading-relaxed text-blog-black md:text-base\",\"children\":[\"$\",\"$L3\",null,{\"src\":\"/images/bff-with-upbit-3.png\",\"alt\":\"Dobbit BFF\",\"className\":\"mx-auto mb-4 h-auto rounded-lg\",\"height\":600,\"width\":600}]}]]\n"])</script><script>self.__next_f.push([1,"10:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nb:null\n"])</script><script>self.__next_f.push([1,"14:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Dobby is Free\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"김도비의 개발 블로그 - 프론트엔드 개발, 웹 기술, 그리고 일상의 기록\"}],[\"$\",\"link\",\"2\",{\"rel\":\"author\",\"href\":\"https://github.com/Dobbymin\"}],[\"$\",\"meta\",\"3\",{\"name\":\"author\",\"content\":\"김도비\"}],[\"$\",\"meta\",\"4\",{\"name\":\"keywords\",\"content\":\"개발 블로그,프론트엔드,Next.js,React,TypeScript,김도비,Dobby\"}],[\"$\",\"meta\",\"5\",{\"name\":\"creator\",\"content\":\"김도비\"}],[\"$\",\"meta\",\"6\",{\"name\":\"publisher\",\"content\":\"김도비\"}],[\"$\",\"meta\",\"7\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"8\",{\"name\":\"googlebot\",\"content\":\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:title\",\"content\":\"Dobby is Free\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:description\",\"content\":\"김도비의 개발 블로그 - 프론트엔드 개발, 웹 기술, 그리고 일상의 기록\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:url\",\"content\":\"https://dobbymin.github.io\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:site_name\",\"content\":\"Dobby is Free\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:locale\",\"content\":\"ko_KR\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:image\",\"content\":\"https://dobbymin.github.io/logo.png\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:image:height\",\"content\":\"630\"}],[\"$\",\"meta\",\"17\",{\"property\":\"og:image:alt\",\"content\":\"Dobby is Free Logo\"}],[\"$\",\"meta\",\"18\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:title\",\"content\":\"Dobby is Free\"}],[\"$\",\"meta\",\"21\",{\"name\":\"twitter:description\",\"content\":\"김도비의 개발 블로그 - 프론트엔드 개발, 웹 기술, 그리고 일상의 기록\"}],[\"$\",\"meta\",\"22\",{\"name\":\"twitter:image\",\"content\":\"https://dobbymin.github.io/logo.png\"}],[\"$\",\"link\",\"23\",{\"rel\":\"shortcut icon\",\"href\":\"/logo.png\"}],[\"$\",\"link\",\"24\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"256x256\"}],[\"$\",\"link\",\"25\",{\"rel\":\"icon\",\"href\":\"/logo.png\"}],[\"$\",\"link\",\"26\",{\"rel\":\"apple-touch-icon\",\"href\":\"/logo.png\"}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"e:{\"metadata\":\"$14:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>